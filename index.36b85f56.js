!function(e,t,s,r,n){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof o.parcelRequirefb1b&&o.parcelRequirefb1b,i=a.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function p(t,s){if(!i[t]){if(!e[t]){var r="function"==typeof o.parcelRequirefb1b&&o.parcelRequirefb1b;if(!s&&r)return r(t,!0);if(a)return a(t,!0);if(l&&"string"==typeof t)return l(t);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}u.resolve=function(s){var r=e[t][1][s];return null!=r?r:s},u.cache={};var c=i[t]=new p.Module(t);e[t][0].call(c.exports,u,c,c.exports,this)}return i[t].exports;function u(e){var t=u.resolve(e);return!1===t?{}:p(t)}}p.isParcelRequire=!0,p.Module=function(e){this.id=e,this.bundle=p,this.exports={}},p.modules=e,p.cache=i,p.parent=a,p.register=function(t,s){e[t]=[function(e,t){t.exports=s},{}]},Object.defineProperty(p,"root",{get:function(){return o.parcelRequirefb1b}}),o.parcelRequirefb1b=p;for(var c=0;c<t.length;c++)p(t[c]);var u=p(s);"object"==typeof exports&&"undefined"!=typeof module?module.exports=u:"function"==typeof define&&define.amd&&define((function(){return u}))}({"8RSWf":[function(e,t,s){var r=e("./utils"),n=e("./components"),o=e("tortie-core"),a=e("./state"),i=e("./types"),l=e("./services"),p=e("./models"),c=e("./selectors");const u=()=>{const e=p.Session.create(a.state.app.newSessionScreen.casinoName,parseInt(a.state.app.newSessionScreen.smallBlind),parseInt(a.state.app.newSessionScreen.bigBlind),parseInt(a.state.app.newSessionScreen.maxBuyin));e.start(),(e=>{window.history.pushState({},"",`#/sessions/${e.id}`),a.state.app.currentSessionId=e.id,a.state.app.screen=i.Screen.ShowSession})(e)},d=async()=>{if(!c.appSelectors.currentSession)return;let e;c.appSelectors.currentSession.end(parseFloat(a.state.app.showSessionScreen.cashoutAmount),a.state.app.showSessionScreen.notes),a.state.app.showSessionScreen.isSavingSession=!0;try{e=await h.saveSession(c.appSelectors.currentSession,a.state.app.cachedAdminPassword??a.state.app.showSessionScreen.adminPassword)}finally{a.state.app.showSessionScreen.isSavingSession=!1}e.ok?(a.state.app.cachedAdminPassword||(a.state.app.cachedAdminPassword=a.state.app.showSessionScreen.adminPassword),alert("Success!"),window.history.pushState({},"","#"),a.state.app.screen=i.Screen.Intro):(alert("Something went wrong."),c.appSelectors.currentSession.undoEnd())},m=e=>{if(r.objectIsHtmlElement(e.target)){switch(e.target.id){case"new-session-button":return window.history.pushState({},"","#/sessions/new"),void(a.state.app.screen=i.Screen.NewSession);case"decrement-dealer-tip-button":return void c.appSelectors.currentSession?.updateDealerTip(-1);case"increment-dealer-tip-button":return void c.appSelectors.currentSession?.updateDealerTip(1);case"decrement-drink-tip-button":return void c.appSelectors.currentSession?.updateDrinkTip(-1);case"increment-drink-tip-button":return void c.appSelectors.currentSession?.updateDrinkTip(1);case"rebuy-max-button":return void c.appSelectors.currentSession?.rebuyMax()}var t,s,n;e.target.classList.contains("prefill-blinds")&&e.target.dataset.smallBlind&&e.target.dataset.bigBlind&&(s=e.target.dataset.smallBlind,n=e.target.dataset.bigBlind,a.state.app.newSessionScreen.smallBlind=s,a.state.app.newSessionScreen.bigBlind=n,t=(100*parseInt(e.target.dataset.bigBlind)).toString(),a.state.app.newSessionScreen.maxBuyin=t)}},f=e=>{if(r.objectIsHtmlElement(e.target))switch(e.preventDefault(),e.target.id){case"new-session-form":u();break;case"rebuy-form":c.appSelectors.currentSession&&(c.appSelectors.currentSession.rebuy(parseFloat(a.state.app.showSessionScreen.rebuyAmount)),a.state.app.showSessionScreen.rebuyAmount="");break;case"end-session-form":d()}},S=e=>{if(!r.objectIsHtmlInputElement(e.target))return;const t=(e=>{switch(e){case"casino-name-input":return"newSessionScreen.casinoName";case"small-blind-input":return"newSessionScreen.smallBlind";case"big-blind-input":return"newSessionScreen.bigBlind";case"max-buyin-input":return"newSessionScreen.maxBuyin";case"max-players-input":return"newSessionScreen.maxPlayers";case"rebuy-amount-input":return"showSessionScreen.rebuyAmount";case"admin-password-input":return"showSessionScreen.adminPassword"}})(e.target.id);return t?r.objectSet(a.state.app,t,e.target.value):void 0},h=new l.Api,b=document.getElementById("root");b&&(a.setupAppState((()=>o.render(o.e(n.App),b))),b.addEventListener("click",m),b.addEventListener("submit",f),b.addEventListener("input",S)),setInterval(a.saveToLocalStorage,1e4),document.addEventListener("visibilitychange",a.saveToLocalStorage),window.onbeforeunload=a.saveToLocalStorage},{"./utils":"i8jxn","./components":"574VB","tortie-core":"cxIM9","./state":"aFpfY","./types":"dHDQY","./services":"lcRq9","./models":"iQvfo","./selectors":"aC3cV"}],i8jxn:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"uuid",(()=>n)),r.export(s,"objectIsHtmlElement",(()=>o)),r.export(s,"objectIsHtmlInputElement",(()=>a)),r.export(s,"formatDuration",(()=>i)),r.export(s,"isPlainObject",(()=>l)),r.export(s,"objectSet",(()=>p)),r.export(s,"capitalize",(()=>c)),r.export(s,"toISOString",(()=>u));const n=()=>Date.now().toString(36)+Math.random().toString(36).substring(2),o=e=>!!e.tagName,a=e=>!!e.type,i=e=>{let t=e/1e3;const s=Math.floor(t/3600),r=Math.floor((t-3600*s)/60);t=Math.round(t-3600*s-60*r);return`${s<10?`0${s}`:s.toString()}:${r<10?`0${r}`:r.toString()}:${t<10?`0${t}`:t.toString()}`},l=e=>"object"==typeof e&&!Array.isArray(e),p=(e,t,s)=>{if(!t)return;const r=t.split("."),n=r.pop();if(n){for(const t of r){const s=e[t];if(!l(s))return;e=s}e[n]=s}},c=e=>`${e[0].toUpperCase()}${e.slice(1)}`,u=e=>{const t=-e.getTimezoneOffset(),s=t>=0?"+":"-",r=e=>(e<10?"0":"")+e;return e.getFullYear()+"-"+r(e.getMonth()+1)+"-"+r(e.getDate())+"T"+r(e.getHours())+":"+r(e.getMinutes())+":"+r(e.getSeconds())+s+r(Math.floor(Math.abs(t)/60))+":"+r(Math.abs(t)%60)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],k3151:[function(e,t,s){s.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},s.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},s.exportAll=function(e,t){return Object.keys(e).forEach((function(s){"default"===s||"__esModule"===s||t.hasOwnProperty(s)||Object.defineProperty(t,s,{enumerable:!0,get:function(){return e[s]}})})),t},s.export=function(e,t,s){Object.defineProperty(e,t,{enumerable:!0,get:s})}},{}],"574VB":[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"App",(()=>n.App)),r.export(s,"BlindsButton",(()=>o.BlindsButton)),r.export(s,"IntroScreen",(()=>a.IntroScreen)),r.export(s,"NewSessionScreen",(()=>i.NewSessionScreen)),r.export(s,"NumberInput",(()=>l.NumberInput)),r.export(s,"ShowSessionScreen",(()=>p.ShowSessionScreen)),r.export(s,"TipsSection",(()=>c.TipsSection)),r.export(s,"SuggestedCasino",(()=>u.SuggestedCasino)),r.export(s,"Timer",(()=>d.Timer));var n=e("./App"),o=e("./BlindsButton"),a=e("./IntroScreen"),i=e("./NewSessionScreen"),l=e("./NumberInput"),p=e("./ShowSessionScreen"),c=e("./TipsSection"),u=e("./SuggestedCasino"),d=e("./Timer")},{"./App":"dZLtB","./BlindsButton":"e1MPW","./IntroScreen":"7PkpA","./NewSessionScreen":"ji2cL","./NumberInput":"j1cOk","./ShowSessionScreen":"bPfUK","./TipsSection":"BqZ2i","./SuggestedCasino":"cP5eb","./Timer":"fAe4A","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],dZLtB:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"App",(()=>l));var n=e("tortie-core"),o=e("."),a=e("../types"),i=e("../state");const l=()=>{switch(i.state.app.screen){case a.Screen.Intro:return n.e(o.IntroScreen);case a.Screen.NewSession:return n.e(o.NewSessionScreen);case a.Screen.ShowSession:return n.e(o.ShowSessionScreen);default:throw new Error(`Unknown screen ${i.state.app.screen}`)}}},{"tortie-core":"cxIM9",".":"574VB","../types":"dHDQY","../state":"aFpfY","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],cxIM9:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"render",(()=>n.render)),r.export(s,"createVirtualElement",(()=>n.createVirtualElement)),r.export(s,"e",(()=>n.e)),r.export(s,"useEffect",(()=>o.useEffect)),r.export(s,"useState",(()=>o.useState)),r.export(s,"FunctionComponent",(()=>a.FunctionComponent)),r.export(s,"FC",(()=>a.FC));var n=e("./render"),o=e("./hooks"),a=e("./types")},{"./render":"bQAZQ","./hooks":"5s8m4","./types":"kP2Nk","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],bQAZQ:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"createVirtualElement",(()=>d)),r.export(s,"e",(()=>m)),r.export(s,"reconcile",(()=>b)),r.export(s,"render",(()=>w));var n=e("./types"),o=e("./utils"),a=e("./hooks"),i=e("./polyfills");let l;var p;(p=l||(l={})).Value="value",p.ClassName="className";const c=new Set(Object.values(l)),u=new Map([["onInput","input"],["onClick","click"]]);function d(e,t,...s){return"function"==typeof e?{type:e,props:t||{},result:null}:{type:e,props:{...t,tagName:e||"div"},children:s.map((e=>"string"==typeof e?{type:"String",value:e}:e))}}const m=d,f=(e,t,s,r)=>{s!==r&&(s&&e.removeEventListener(t,s),r&&e.addEventListener(t,r))},S=(e,t,s)=>{if("String"===t?.type||"String"===s?.type)return;const r=t?o.keys(t.props):[],n=s?o.keys(s.props):[];for(const o of n.concat(r)){const r=t?.props[o],n=s?.props[o];if(c.has(o))e[o]=void 0===n?"":n;else if(r!==n)if("onClick"!==o&&"onInput"!==o)"boolean"==typeof n?n?e.setAttribute(o,""):e.removeAttribute(o):void 0===n?e.removeAttribute(o):e.setAttribute(o,String(n));else{const r=u.get(o);r&&f(e,r,t?.props[o],s?.props[o])}}},h=e=>{if(!e)return null;if("String"===e.type)return g.createTextNode(e.value);if(o.isVirtualFunctionElement(e))return h(a.mountWithHooks(e,v));const{children:t,type:s}=e,r=g.createElement(s);S(r,null,e);for(const e of t){if(!e)continue;const t=h(e);t&&r.appendChild(t)}return r},b=(e,t,s)=>{if(s){if(!t||t.type!==s.type)return t&&o.isVirtualFunctionElement(t)&&a.unmountWithHooks(t),void o.replaceNode(e,h(s));if("String"!==t.type||"String"!==s.type){if(o.isTextNode(e))o.replaceNode(e,h(s));else if(o.isVirtualFunctionElement(t)&&o.isVirtualFunctionElement(s))b(e,t.result,a.mountWithHooks(s,v));else if(o.isVirtualNativeElement(t)&&o.isVirtualNativeElement(s)){S(e,t,s);const r=Array.from(e.childNodes).filter((e=>e.nodeType===n.NodeTypes.Element||e.nodeType===n.NodeTypes.Text));s.children.forEach(((s,n)=>{const o=r[n];if(o)b(o,t.children[n],s);else if(s){const t=h(s);t&&e.appendChild(t)}}))}}else((e,t,s)=>{t.value!==s.value&&(o.isElementNode(e)?o.replaceNode(e,h(s)):o.isTextNode(e)&&e.replaceData(0,e.length,s.value))})(e,t,s)}else e.remove()};let v,g,y=d("div"),j=!1;const w=(e,t)=>{g=t.ownerDocument,!j&&g.defaultView&&(i.polyfillAll(g.defaultView),j=!0);const s=d("div",null,e);v=()=>w(e,t),b(t,y,s),y=s}},{"./types":"kP2Nk","./utils":"jO0x1","./hooks":"5s8m4","./polyfills":"EFdDv","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],kP2Nk:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");let n;var o;r.defineInteropFlag(s),r.export(s,"NodeTypes",(()=>n)),(o=n||(n={}))[o.Element=1]="Element",o[o.Text=3]="Text"},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],jO0x1:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"keys",(()=>o)),r.export(s,"isVirtualFunctionElement",(()=>a)),r.export(s,"isVirtualStringElement",(()=>i)),r.export(s,"isVirtualNativeElement",(()=>l)),r.export(s,"isElementNode",(()=>p)),r.export(s,"isTextNode",(()=>c)),r.export(s,"replaceNode",(()=>u)),r.export(s,"arraysEqual",(()=>d));var n=e("./types");const o=Object.keys,a=e=>"function"==typeof e.type,i=e=>"String"===e.type,l=e=>!i(e)&&!a(e),p=e=>e.nodeType===n.NodeTypes.Element,c=e=>e.nodeType===n.NodeTypes.Text,u=(e,t)=>{t&&e.parentElement?.replaceChild(t,e)},d=(e,t)=>{if(e.length!==t.length)return!1;for(let s=0;s<e.length;s+=1)if(e[s]!==t[s])return!1;return!0}},{"./types":"kP2Nk","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"5s8m4":[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"useEffect",(()=>l)),r.export(s,"useState",(()=>p)),r.export(s,"mountWithHooks",(()=>c)),r.export(s,"unmountWithHooks",(()=>u));var n=e("./utils");let o,a;const i={useState:new Map,useEffect:new Map},l=(e,t)=>{const s=i.useEffect.get(o)||[];s.push({callback:e,dependencies:t,unmountCallback:void 0}),i.useEffect.set(o,s)},p=e=>{let t=i.useState.get(o);t||(t=[{value:e}],i.useState.set(o,t));const s=t[t.length-1];return[s.value,e=>{s.value!==e&&(s.value=e,requestIdleCallback(a))}]},c=(e,t)=>{o=e.type,a=t;const s=i.useEffect.get(e.type);i.useEffect.delete(e.type),e.result=e.type(e.props);const r=i.useEffect.get(o);return r&&0!==r.length?(r.forEach(((e,t)=>{const r=s?.[t];r&&n.arraysEqual(r.dependencies,e.dependencies)?e.unmountCallback=r.unmountCallback:e.unmountCallback=e.callback()})),e.result):e.result},u=e=>{const t=i.useEffect.get(e.type);if(!t)return e.result;for(const{unmountCallback:e}of t)e&&e();return i.useEffect.delete(e.type),i.useState.delete(e.type),e.result}},{"./utils":"jO0x1","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],EFdDv:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"polyfillRequestIdleCallback",(()=>n)),r.export(s,"polyfillAll",(()=>o));const n=e=>{void 0===e.requestIdleCallback&&(e.requestIdleCallback=(e,t)=>setTimeout(e,0))},o=e=>{n(e)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],dHDQY:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");let n;var o;let a;var i;r.defineInteropFlag(s),r.export(s,"Environments",(()=>n)),r.export(s,"Screen",(()=>a)),(o=n||(n={})).Development="development",o.Production="production",(i=a||(a={})).Intro="intro",i.NewSession="new-session",i.ShowSession="show-session"},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],aFpfY:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"state",(()=>n.state)),r.export(s,"AppState",(()=>n.AppState)),r.export(s,"saveToLocalStorage",(()=>n.saveToLocalStorage)),r.export(s,"setupAppState",(()=>n.setupAppState));var n=e("./app")},{"./app":"aBldL","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],aBldL:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"state",(()=>i)),r.export(s,"setupAppState",(()=>l)),r.export(s,"saveToLocalStorage",(()=>p));var n=e("../types");const o="pokerTracker",a=e=>e?"new"===e?n.Screen.NewSession:n.Screen.ShowSession:n.Screen.Intro,i={app:(()=>{const e=window.localStorage.getItem(o),t=e?JSON.parse(e):{},s=(()=>{const e=window.location.hash.match(/#\/sessions\/(.+)/);if(e)return e[1]})();return{screen:a(s),sessions:{},currentSessionId:s,showSessionScreen:{rebuyAmount:"",notes:"",cashoutAmount:"",adminPassword:"",isSavingSession:!1},newSessionScreen:{casinoName:"",smallBlind:"",bigBlind:"",maxBuyin:""},...t}})()},l=e=>{i.app=new Proxy(i.app,{get(e,t,s){if(!Reflect.has(e,t))return;const r=Reflect.get(e,t,s);return"object"==typeof r&&null!==r?new Proxy(r,this):r},set(t,s,r,n){const o=Reflect.set(t,s,r,n);return o&&e(),o}}),e()},p=()=>{window.localStorage.setItem(o,JSON.stringify({sessions:i.app.sessions,cachedAdminPassword:i.app.cachedAdminPassword}))}},{"../types":"dHDQY","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],e1MPW:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"BlindsButton",(()=>o));var n=e("tortie-core");const o=({smallBlind:e,bigBlind:t})=>n.e("button",{type:"button",className:"prefill-blinds","data-small-blind":e,"data-big-blind":t},`${e}/${t}`)},{"tortie-core":"cxIM9","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"7PkpA":[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"IntroScreen",(()=>o));var n=e("tortie-core");const o=()=>n.e("div",{id:"intro-screen",className:"screen"},n.e("button",{id:"new-session-button"},"Start Session"))},{"tortie-core":"cxIM9","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],ji2cL:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"NewSessionScreen",(()=>l));var n=e("tortie-core"),o=e("../components"),a=e("../state"),i=e("../selectors");const l=()=>n.e("div",{id:"new-session-screen",className:"screen"},n.e(o.SuggestedCasino,{onSelect:e=>{a.state.app.newSessionScreen.casinoName=e}}),n.e("form",{id:"new-session-form"},n.e("div",null,n.e("label",null,n.e("span",null,"Casino Name"),n.e("input",{id:"casino-name-input",type:"text",placeholder:i.appSelectors.mostFrequentCasinoName??"Bellagio",required:!0,value:a.state.app.newSessionScreen.casinoName}))),n.e("div",null,n.e("label",null,n.e("span",null,"Blinds"),n.e(o.NumberInput,{id:"small-blind-input",placeholder:"2",value:a.state.app.newSessionScreen.smallBlind,max:100}),n.e(o.NumberInput,{id:"big-blind-input",placeholder:"5",value:a.state.app.newSessionScreen.bigBlind,max:200})),n.e(o.BlindsButton,{smallBlind:1,bigBlind:2}),n.e(o.BlindsButton,{smallBlind:1,bigBlind:3}),n.e(o.BlindsButton,{smallBlind:2,bigBlind:5}),n.e(o.BlindsButton,{smallBlind:5,bigBlind:10})),n.e("div",null,n.e("label",null,n.e("span",null,"Max Buyin"),n.e(o.NumberInput,{id:"max-buyin-input",placeholder:"500",value:a.state.app.newSessionScreen.maxBuyin}))),n.e("div",null,n.e("input",{type:"submit",value:"Start Session"}))))},{"tortie-core":"cxIM9","../components":"574VB","../state":"aFpfY","../selectors":"aC3cV","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],aC3cV:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"appSelectors",(()=>n.selectors));var n=e("./app")},{"./app":"jnL2j","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],jnL2j:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"selectors",(()=>a));var n=e("../models"),o=e("../state");const a=new class{constructor(e){this.appState=e}get currentSession(){return this.appState.currentSessionId&&this._cachedCurrentSessionId!==this.appState.currentSessionId&&(this._cachedCurrentSessionId=this.appState.currentSessionId,this._cachedCurrentSession=new n.Session(this.appState.currentSessionId)),this._cachedCurrentSession}get mostFrequentCasinoName(){if(this._cachedMostFrequentCasinoName)return this._cachedMostFrequentCasinoName;const e=Object.values(this.appState.sessions).sort(((e,t)=>e.endTime&&t.endTime?Date.parse(t.endTime)-Date.parse(e.endTime):1))[0]?.casinoName;return e&&(this._cachedMostFrequentCasinoName=e),e}}(o.state.app)},{"../models":"iQvfo","../state":"aFpfY","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],iQvfo:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"Session",(()=>n.Session));var n=e("./session")},{"./session":"2wbvO","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"2wbvO":[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"Session",(()=>a));var n=e("../utils"),o=e("../state");class a{static create(e,t,s,r){const a=n.uuid();return o.state.app.sessions[a]={id:n.uuid(),casinoName:e,smallBlind:t,bigBlind:s,maxBuyin:r,notes:"",cashoutAmount:0,dealerTips:0,drinkTips:0,buyins:[]},new this(a)}constructor(e){if(this.id=e,!this.attributes)throw new Error(`Session ${e} does not exist`)}get attributes(){return o.state.app.sessions[this.id]}get startTime(){return this.attributes.startTime?new Date(this.attributes.startTime):null}get endTime(){return this.attributes.endTime?new Date(this.attributes.endTime):null}start(){if(this.startTime)throw new Error("Session already started");if(this.endTime)throw new Error("Session already ended");this.attributes.startTime=n.toISOString(new Date),this.attributes.buyins.push({amount:this.attributes.maxBuyin,time:this.attributes.startTime})}rebuy(e){this.attributes.buyins.push({amount:e,time:(new Date).toISOString()})}rebuyMax(){this.rebuy(this.attributes.maxBuyin)}end(e,t){this.attributes.cashoutAmount=e,this.attributes.endTime=n.toISOString(new Date),this.attributes.notes=t}undoEnd(){this.attributes.cashoutAmount=0,delete this.attributes.endTime}buyinsTotal(){return this.attributes.buyins.reduce(((e,t)=>e+t.amount),0)}updateTip(e,t){this.attributes[e]+t<0||(this.attributes[e]+=t)}updateDealerTip(e){this.updateTip("dealerTips",e)}updateDrinkTip(e){this.updateTip("drinkTips",e)}}},{"../utils":"i8jxn","../state":"aFpfY","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],j1cOk:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"NumberInput",(()=>o));var n=e("tortie-core");const o=({id:e,placeholder:t,value:s,min:r=1,max:o,onInput:a})=>n.e("input",{id:e,type:"number",placeholder:t,pattern:"\\d*",value:s,min:r,max:o,required:!0,onInput:a})},{"tortie-core":"cxIM9","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],bPfUK:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"ShowSessionScreen",(()=>p));var n=e("tortie-core"),o=e("../components"),a=e("../decorators"),i=e("../selectors"),l=e("../state");const p=()=>{if(!i.appSelectors.currentSession)return null;const e=new a.Session(i.appSelectors.currentSession);return n.e("div",{id:"show-session-screen",className:"screen"},n.e("h1",{id:"session-title"},e.title()),n.e("div",null,n.e("span",null,`Profit: $${e.profit()}`)),n.e("div",null,n.e("span",null,`Start time: ${e.startTime()}`)),i.appSelectors.currentSession.startTime&&n.e("div",null,n.e("span",null,"Time elapsed: ",n.e(o.Timer,{startTime:i.appSelectors.currentSession.startTime}))),n.e("form",{id:"rebuy-form",className:"section"},n.e(o.NumberInput,{id:"rebuy-amount-input",placeholder:i.appSelectors.currentSession.attributes.maxBuyin.toString(),value:l.state.app.showSessionScreen.rebuyAmount}),n.e("input",{type:"submit",value:"Rebuy"}),n.e("input",{id:"rebuy-max-button",type:"button",value:"Max"})),n.e(o.TipsSection,{type:"dealer",value:e.dealerTips()}),n.e(o.TipsSection,{type:"drink",value:e.drinkTips()}),n.e("form",{id:"end-session-form",className:"section"},n.e("input",{className:"hidden",type:"text",autocomplete:"username"}),n.e("label",{className:"section"},n.e("div",null,"Notes"),n.e("textarea",{onInput:e=>{e.target&&(l.state.app.showSessionScreen.notes=e.target.value)}})),n.e("label",{className:"section"},n.e("div",null,"Cashout Amount"),n.e(o.NumberInput,{min:0,value:l.state.app.showSessionScreen.cashoutAmount,placeholder:(3*i.appSelectors.currentSession.attributes.maxBuyin).toString(),onInput:e=>{e.target&&(l.state.app.showSessionScreen.cashoutAmount=e.target.value)}})),l.state.app.cachedAdminPassword?"":n.e("div",{id:"admin-password-area"},n.e("label",null,n.e("span",null,"Password")),n.e("input",{id:"admin-password-input",type:"password",autocomplete:"current-password",required:!0})),n.e("input",{id:"end-session-submit-button",type:"submit",value:"End Session",disabled:l.state.app.showSessionScreen.isSavingSession})))}},{"tortie-core":"cxIM9","../components":"574VB","../decorators":"26ZGZ","../selectors":"aC3cV","../state":"aFpfY","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"26ZGZ":[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"Session",(()=>n.Session));var n=e("./session")},{"./session":"2xw1D","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"2xw1D":[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"Session",(()=>n));class n{constructor(e){this.session=e}drinkTips(){return`$${this.session.attributes.drinkTips??0}`}dealerTips(){return`$${this.session.attributes.dealerTips??0}`}blinds(){return`${this.session.attributes.smallBlind}/${this.session.attributes.bigBlind}`}maxBuyin(){return`$${this.session.attributes.maxBuyin} max`}title(){return[this.session.attributes.casinoName,this.blinds(),this.maxBuyin()].join(" ")}startTime(){return this.session.startTime?.toLocaleString()??""}profit(){return((this.session.attributes.cashoutAmount??0)-this.session.buyinsTotal()).toString()}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],BqZ2i:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"TipsSection",(()=>a));var n=e("tortie-core"),o=e("../utils");const a=({type:e,value:t})=>n.e("div",{className:"section"},n.e("span",null,`${o.capitalize(e)} tips: ${t}`),n.e("div",null,n.e("button",{className:"tip-button",id:`decrement-${e}-tip-button`},"-"),n.e("button",{className:"tip-button",id:`increment-${e}-tip-button`},"+")))},{"tortie-core":"cxIM9","../utils":"i8jxn","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],cP5eb:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"SuggestedCasino",(()=>a));var n=e("tortie-core"),o=e("../selectors");const a=({onSelect:e})=>{const t=o.appSelectors.mostFrequentCasinoName;return t?n.e("div",null,`Play at ${t} again?`,n.e("button",{onClick:()=>e(t)},"OK")):null}},{"tortie-core":"cxIM9","../selectors":"aC3cV","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],fAe4A:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"Timer",(()=>a));var n=e("tortie-core"),o=e("../utils");const a=({startTime:e})=>{const[t,s]=n.useState("");return n.useEffect((()=>{const t=()=>{s(o.formatDuration(Date.now()-e.getTime()))};setInterval(t,1e3),t()}),[]),n.e("span",null,t.toString())}},{"tortie-core":"cxIM9","../utils":"i8jxn","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],lcRq9:[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"Api",(()=>n.Api));var n=e("./api")},{"./api":"4YK7g","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"4YK7g":[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"Api",(()=>a));var n=e("../types"),o=e("../constants");class a{origin(){return o.environment===n.Environments.Development?"http://localhost:3000":"https://blackjack-trainer-api.herokuapp.com"}request(e,t,s){const r=`${this.origin()}/api/v1${e}`;return window.fetch(r,{method:s.method,headers:{...s.headers,"Content-Type":"application/json"},body:JSON.stringify(t)})}post(e,t,s){return this.request(e,t,{method:"POST",...s})}saveSession(e,t){return this.post("/poker_sessions",{data:{type:"poker_session",attributes:e.attributes}},{headers:{"Poker-Sessions-Admin-Password":t}})}}},{"../types":"dHDQY","../constants":"7NbOs","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"7NbOs":[function(e,t,s){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(s),r.export(s,"environment",(()=>o));var n=e("./types");const o="localhost"===window.location.hostname?n.Environments.Development:n.Environments.Production},{"./types":"dHDQY","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}]},["8RSWf"],"8RSWf");
//# sourceMappingURL=index.36b85f56.js.map
