{"mappings":"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","sources":["src/index.ts"],"sourcesContent":["(function () {\n  const LOCAL_STORAGE_KEY = 'pokerTracker';\n  const SAVE_APP_STATE_INTERVAL_MS = 10 * 1000;\n  const ELEMENT_NODE_TYPE = 1;\n  const TEXT_NODE_TYPE = 3;\n  const ELEMENT_PROPERTIES = new Set(['value', 'className']);\n\n  enum Environments {\n    Development = 'development',\n    Production = 'production',\n  }\n\n  enum Screen {\n    Intro = 'intro',\n    NewSession = 'new-session',\n    ShowSession = 'show-session',\n  }\n\n  type AppState = {\n    screen: Screen;\n    currentSessionId?: string;\n    sessions: { [id: string]: SessionAttributes };\n    showSessionScreen: {\n      rebuyAmount: string;\n      cashoutAmount: string;\n      adminPassword: string;\n      isSavingSession: boolean;\n    };\n    newSessionScreen: {\n      casinoName: string;\n      smallBlind: string;\n      bigBlind: string;\n      maxBuyin: string;\n      maxPlayers: string;\n    };\n    cachedAdminPassword?: string;\n  };\n\n  type SessionAttributes = {\n    id: string;\n    startTime?: string;\n    endTime?: string;\n    casinoName: string;\n    smallBlind: number;\n    bigBlind: number;\n    maxBuyin: number;\n    maxPlayers: number;\n    cashoutAmount: number;\n    drinkTips: number;\n    dealerTips: number;\n    buyins: { amount: number; time: string }[];\n  };\n\n  type Primitive = string | number | boolean | null | undefined;\n\n  type PlainObject = {\n    [key: string]: Primitive | PlainObject | PlainObject[];\n  };\n\n  type Writeable<T> = { -readonly [P in keyof T]: T[P] };\n\n  type ElementProperties = Writeable<\n    HTMLElementTagNameMap[keyof HTMLElementTagNameMap]\n  >;\n\n  class Selectors {\n    appState: AppState;\n    _cachedCurrentSession?: Session;\n    _cachedCurrentSessionId?: string;\n\n    constructor(appState: AppState) {\n      this.appState = appState;\n    }\n\n    get currentSession() {\n      if (\n        this.appState.currentSessionId &&\n        this._cachedCurrentSessionId !== this.appState.currentSessionId\n      ) {\n        this._cachedCurrentSessionId = this.appState.currentSessionId;\n        this._cachedCurrentSession = new Session(\n          this.appState.currentSessionId\n        );\n      }\n\n      return this._cachedCurrentSession;\n    }\n  }\n\n  class Utils {\n    // See https://stackoverflow.com/a/44078785/659910\n    static uuid() {\n      return Date.now().toString(36) + Math.random().toString(36).substring(2);\n    }\n\n    static objectIsHtmlElement(object: unknown): object is HTMLElement {\n      return !!(object as HTMLElement).tagName;\n    }\n\n    static objectIsHtmlInputElement(\n      object: unknown\n    ): object is HTMLInputElement {\n      return !!(object as HTMLInputElement).type;\n    }\n\n    static formatDuration(ms: number) {\n      let seconds = ms / 1000;\n\n      const hours = Math.floor(seconds / 3600);\n      const minutes = Math.floor((seconds - hours * 3600) / 60);\n\n      seconds = Math.round(seconds - hours * 3600 - minutes * 60);\n\n      const hoursFormatted = hours < 10 ? `0${hours}` : hours.toString();\n      const minutesFormatted =\n        minutes < 10 ? `0${minutes}` : minutes.toString();\n      const secondsFormatted =\n        seconds < 10 ? `0${seconds}` : seconds.toString();\n\n      return `${hoursFormatted}:${minutesFormatted}:${secondsFormatted}`;\n    }\n\n    static isPlainObject = (object: unknown): object is PlainObject => {\n      return typeof object === 'object' && !Array.isArray(object);\n    };\n\n    static objectSet = (object: PlainObject, key: string, value: Primitive) => {\n      if (!key) {\n        return;\n      }\n\n      const subKeys = key.split('.');\n      const lastKey = subKeys.pop();\n\n      if (!lastKey) {\n        return;\n      }\n\n      for (const key of subKeys) {\n        const next = object[key];\n        if (!Utils.isPlainObject(next)) {\n          return;\n        }\n\n        object = next;\n      }\n\n      object[lastKey] = value;\n    };\n\n    static capitalize(str: string) {\n      return `${str[0].toUpperCase()}${str.slice(1)}`;\n    }\n\n    static isCapitalized(str: string) {\n      return str[0].toUpperCase() === str[0];\n    }\n  }\n\n  class ApiService {\n    origin() {\n      if (environment === Environments.Development) {\n        return 'http://localhost:3000';\n      } else {\n        return 'https://blackjack-trainer-api.herokuapp.com';\n      }\n    }\n\n    request(path: string, body: unknown, requestOptions: RequestInit) {\n      const url = `${this.origin()}/api/v1${path}`;\n\n      return window.fetch(url, {\n        method: requestOptions.method,\n        headers: {\n          ...requestOptions.headers,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body),\n      });\n    }\n\n    post(path: string, body: unknown, requestOptions: RequestInit) {\n      return this.request(path, body, { method: 'POST', ...requestOptions });\n    }\n\n    saveSession(session: Session, adminPassword: string) {\n      return this.post(\n        '/poker_sessions',\n        {\n          data: {\n            type: 'poker_session',\n            attributes: session.attributes,\n          },\n        },\n        {\n          headers: {\n            'Poker-Sessions-Admin-Password': adminPassword,\n          },\n        }\n      );\n    }\n  }\n\n  class SessionDecorator {\n    session: Session;\n\n    constructor(session: Session) {\n      this.session = session;\n    }\n\n    drinkTips() {\n      return `$${this.session.attributes.drinkTips ?? 0}`;\n    }\n\n    dealerTips() {\n      return `$${this.session.attributes.dealerTips ?? 0}`;\n    }\n\n    blinds() {\n      return `${this.session.attributes.smallBlind}/${this.session.attributes.bigBlind}`;\n    }\n\n    maxBuyin() {\n      return `$${this.session.attributes.maxBuyin} max`;\n    }\n\n    title() {\n      return [\n        this.session.attributes.casinoName,\n        this.blinds(),\n        this.maxBuyin(),\n      ].join(' ');\n    }\n\n    startTime() {\n      return this.session.startTime?.toLocaleString() ?? '';\n    }\n\n    profit() {\n      const cashoutAmount = this.session.attributes.cashoutAmount ?? 0;\n      return (cashoutAmount - this.session.buyinsTotal()).toString();\n    }\n\n    timeElapsed() {\n      if (!this.session.startTime) {\n        return '';\n      }\n\n      return Utils.formatDuration(\n        Date.now() - this.session.startTime.getTime()\n      );\n    }\n  }\n\n  class Session {\n    id: string;\n\n    static create(\n      casinoName: string,\n      smallBlind: number,\n      bigBlind: number,\n      maxBuyin: number,\n      maxPlayers: number\n    ) {\n      const id = Utils.uuid();\n\n      appState.sessions[id] = {\n        id: Utils.uuid(),\n        casinoName,\n        smallBlind,\n        bigBlind,\n        maxBuyin,\n        maxPlayers,\n        cashoutAmount: 0,\n        dealerTips: 0,\n        drinkTips: 0,\n        buyins: [],\n      };\n\n      return new this(id);\n    }\n\n    constructor(id: string) {\n      this.id = id;\n\n      if (!this.attributes) {\n        throw new Error(`Session ${id} does not exist`);\n      }\n    }\n\n    get attributes() {\n      return appState.sessions[this.id];\n    }\n\n    get startTime() {\n      return this.attributes.startTime\n        ? new Date(this.attributes.startTime)\n        : null;\n    }\n\n    get endTime() {\n      return this.attributes.endTime ? new Date(this.attributes.endTime) : null;\n    }\n\n    start() {\n      if (this.startTime) {\n        throw new Error('Session already started');\n      }\n\n      if (this.endTime) {\n        throw new Error('Session already ended');\n      }\n\n      this.attributes.startTime = new Date().toISOString();\n      this.attributes.buyins.push({\n        amount: this.attributes.maxBuyin,\n        time: this.attributes.startTime,\n      });\n    }\n\n    rebuy(amount: number) {\n      this.attributes.buyins.push({\n        amount,\n        time: new Date().toISOString(),\n      });\n    }\n\n    rebuyMax() {\n      this.rebuy(this.attributes.maxBuyin);\n    }\n\n    end(cashoutAmount: number) {\n      this.attributes.cashoutAmount = cashoutAmount;\n      this.attributes.endTime = new Date().toISOString();\n    }\n\n    undoEnd() {\n      this.attributes.cashoutAmount = 0;\n      delete this.attributes.endTime;\n    }\n\n    buyinsTotal() {\n      return this.attributes.buyins.reduce(\n        (prev, current) => prev + current.amount,\n        0\n      );\n    }\n\n    updateTip(type: 'dealerTips' | 'drinkTips', change: number) {\n      if (this.attributes[type] + change < 0) {\n        return;\n      }\n\n      this.attributes[type] += change;\n    }\n\n    updateDealerTip(change: number) {\n      this.updateTip('dealerTips', change);\n    }\n\n    updateDrinkTip(change: number) {\n      this.updateTip('drinkTips', change);\n    }\n  }\n\n  const locationToSessionId = () => {\n    const sessionPath = window.location.hash.match(/#\\/sessions\\/(.+)/);\n\n    if (sessionPath) {\n      return sessionPath[1];\n    }\n  };\n\n  const sessionIdToScreen = (sessionId?: string) => {\n    if (!sessionId) {\n      return Screen.Intro;\n    }\n\n    if (sessionId === 'new') {\n      return Screen.NewSession;\n    }\n\n    return Screen.ShowSession;\n  };\n\n  const getEnvironment = () => {\n    if (window.location.hostname === 'localhost') {\n      return Environments.Development;\n    } else {\n      return Environments.Production;\n    }\n  };\n\n  const saveAppState = () => {\n    window.localStorage.setItem(\n      LOCAL_STORAGE_KEY,\n      JSON.stringify({\n        sessions: appState.sessions,\n        // This is not very secure but I'm the only user of this hacky app.\n        // Long-term we would want JWT.\n        cachedAdminPassword: appState.cachedAdminPassword,\n      })\n    );\n  };\n\n  const loadAppState = (): AppState => {\n    const stateItem = window.localStorage.getItem(LOCAL_STORAGE_KEY);\n    const state = stateItem ? JSON.parse(stateItem) : {};\n    const sessionId = locationToSessionId();\n\n    return {\n      screen: sessionIdToScreen(sessionId),\n      sessions: {},\n      currentSessionId: sessionId,\n      showSessionScreen: {\n        rebuyAmount: '',\n        cashoutAmount: '',\n        adminPassword: '',\n        isSavingSession: false,\n      },\n      newSessionScreen: {\n        casinoName: '',\n        smallBlind: '',\n        bigBlind: '',\n        maxBuyin: '',\n        maxPlayers: '8',\n      },\n      ...state,\n    };\n  };\n\n  // See https://github.com/microsoft/TypeScript/pull/12253#issuecomment-353494273\n  const keys = Object.keys as <T>(o: T) => (keyof T)[];\n\n  type VirtualElement = {\n    type: string;\n    tagName: keyof HTMLElementTagNameMap;\n    props: Partial<ElementProperties>;\n    children: VirtualNode[];\n  };\n\n  type VirtualNode = string | VirtualElement;\n\n  const isNativeElementType = (\n    type: string\n  ): type is keyof HTMLElementTagNameMap => !Utils.isCapitalized(type);\n\n  const createVirtualElement = (\n    type: string,\n    props: VirtualElement['props'] | null = null,\n    ...children: VirtualElement['children']\n  ): VirtualElement => ({\n    type,\n    tagName: isNativeElementType(type)\n      ? type\n      : (props?.tagName as keyof HTMLElementTagNameMap),\n    props: props || {},\n    children,\n  });\n\n  const createDomNode = (virtualNode: VirtualNode) => {\n    if (typeof virtualNode === 'string') {\n      return document.createTextNode(virtualNode);\n    }\n\n    const { tagName, props, children } = virtualNode;\n    const element = document.createElement(tagName);\n\n    if (props) {\n      for (const name of keys(props)) {\n        if (name === 'tagName') {\n          continue;\n        }\n\n        const value = props[name];\n\n        if (ELEMENT_PROPERTIES.has(name)) {\n          // TODO: Figure out why an error related to readonly properties is\n          // happening despite using `Writeable`.\n          // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          // @ts-ignore\n          element[name] = value;\n        } else {\n          if (typeof value === 'boolean' && value === false) {\n            continue;\n          }\n\n          element.setAttribute(name, String(value));\n        }\n      }\n    }\n\n    for (const child of children) {\n      const childDomElement = createDomNode(child);\n\n      if (!childDomElement) {\n        continue;\n      }\n\n      element.appendChild(childDomElement);\n    }\n\n    return element;\n  };\n\n  const e = createVirtualElement;\n\n  const NumberInput = ({\n    id,\n    placeholder,\n    value,\n    min = 1,\n    max,\n  }: {\n    id: string;\n    placeholder: string;\n    value?: string;\n    min?: number;\n    max?: number;\n  }) =>\n    e('NumberInput', {\n      tagName: 'input',\n      id,\n      type: 'number',\n      placeholder,\n      pattern: '\\\\d*',\n      value,\n      min,\n      max,\n      required: 'required',\n    });\n\n  const BlindsButton = ({\n    smallBlind,\n    bigBlind,\n  }: {\n    smallBlind: number;\n    bigBlind: number;\n  }) =>\n    e(\n      'BlindsButton',\n      {\n        tagName: 'button',\n        type: 'button',\n        className: 'prefill-blinds',\n        'data-small-blind': smallBlind,\n        'data-big-blind': bigBlind,\n      },\n      `${smallBlind}/${bigBlind}`\n    );\n\n  const TipsSection = ({\n    type,\n    value,\n  }: {\n    type: 'dealer' | 'drink';\n    value: string;\n  }) =>\n    e(\n      'TipsSection',\n      { tagName: 'div', className: 'section' },\n      e('span', null, `${Utils.capitalize(type)} tips: ${value}`),\n      e(\n        'div',\n        null,\n        e(\n          'button',\n          { className: 'tip-button', id: `decrement-${type}-tip-button` },\n          '-'\n        ),\n        e(\n          'button',\n          { className: 'tip-button', id: `increment-${type}-tip-button` },\n          '+'\n        )\n      )\n    );\n\n  const IntroScreen = () => {\n    return e(\n      'IntroScreen',\n      { tagName: 'div', id: 'intro-screen', className: 'screen' },\n      e('button', { id: 'new-session-button' }, 'Start Session')\n    );\n  };\n\n  const NewSessionScreen = () => {\n    return e(\n      'NewSessionScreen',\n      { tagName: 'div', id: 'new-session-screen', className: 'screen' },\n      e(\n        'form',\n        { id: 'new-session-form' },\n        e(\n          'div',\n          null,\n          e(\n            'label',\n            null,\n            e('span', null, 'Casino Name'),\n            e('input', {\n              id: 'casino-name-input',\n              type: 'text',\n              placeholder: 'Bellagio',\n              required: 'required',\n              value: appState.newSessionScreen.casinoName,\n            })\n          )\n        ),\n        e(\n          'div',\n          null,\n          e(\n            'label',\n            null,\n            e('span', null, 'Blinds'),\n            NumberInput({\n              id: 'small-blind-input',\n              placeholder: '2',\n              value: appState.newSessionScreen.smallBlind,\n              max: 100,\n            }),\n            NumberInput({\n              id: 'big-blind-input',\n              placeholder: '5',\n              value: appState.newSessionScreen.bigBlind,\n              max: 200,\n            })\n          ),\n          BlindsButton({ smallBlind: 1, bigBlind: 2 }),\n          BlindsButton({ smallBlind: 1, bigBlind: 3 }),\n          BlindsButton({ smallBlind: 2, bigBlind: 5 }),\n          BlindsButton({ smallBlind: 5, bigBlind: 10 })\n        ),\n        e(\n          'div',\n          null,\n          e(\n            'label',\n            null,\n            e('span', null, 'Max Buyin'),\n            NumberInput({\n              id: 'max-buyin-input',\n              placeholder: '500',\n              value: appState.newSessionScreen.maxBuyin,\n            })\n          )\n        ),\n        e(\n          'div',\n          null,\n          e(\n            'label',\n            null,\n            e('span', null, 'Max Players'),\n            NumberInput({\n              id: 'max-players-input',\n              placeholder: '8',\n              max: 10,\n              value: appState.newSessionScreen.maxPlayers,\n            })\n          )\n        ),\n        e('div', null, e('input', { type: 'submit', value: 'Start Session' }))\n      )\n    );\n  };\n\n  const ShowSessionScreen = () => {\n    if (!selectors.currentSession) {\n      return '';\n    }\n\n    const session = new SessionDecorator(selectors.currentSession);\n\n    return e(\n      'ShowSessionScreen',\n      { tagName: 'div', id: 'show-session-screen', className: 'screen' },\n      e('h1', { id: 'session-title' }, session.title()),\n      e('div', null, e('span', null, `Profit: $${session.profit()}`)),\n      e('div', null, e('span', null, `Start time: $${session.startTime()}`)),\n      e(\n        'div',\n        null,\n        e('span', null, `Time elapsed: ${session.timeElapsed()}`)\n      ),\n\n      e(\n        'form',\n        { id: 'rebuy-form', className: 'section' },\n        NumberInput({\n          id: 'rebuy-amount-input',\n          placeholder: selectors.currentSession.attributes.maxBuyin.toString(),\n          max: selectors.currentSession.attributes.maxBuyin,\n          value: appState.showSessionScreen.rebuyAmount,\n        }),\n        e('input', { type: 'submit', value: 'Rebuy' }),\n        e('input', { id: 'rebuy-max-button', type: 'button', value: 'Max' })\n      ),\n\n      TipsSection({ type: 'dealer', value: session.dealerTips() }),\n      TipsSection({ type: 'drink', value: session.drinkTips() }),\n\n      e(\n        'form',\n        { id: 'end-session-form', className: 'section' },\n        e('input', {\n          className: 'hidden',\n          type: 'text',\n          autocomplete: 'username',\n        }),\n\n        e(\n          'div',\n          null,\n          e(\n            'label',\n            null,\n            e('span', null, 'Cashout Amount'),\n            NumberInput({\n              min: 0,\n              id: 'cashout-amount-input',\n              placeholder: (\n                selectors.currentSession.attributes.maxBuyin * 3\n              ).toString(),\n            })\n          )\n        ),\n\n        appState.cachedAdminPassword\n          ? ''\n          : e(\n              'div',\n              { id: 'admin-password-area' },\n              e('label', null, e('span', null, 'Password')),\n              e('input', {\n                id: 'admin-password-input',\n                type: 'password',\n                autocomplete: 'current-password',\n                required: 'required',\n              })\n            ),\n\n        e('input', {\n          id: 'end-session-submit-button',\n          type: 'submit',\n          value: 'End Session',\n          disabled: appState.showSessionScreen.isSavingSession,\n        })\n      )\n    );\n  };\n\n  const renderScreen = () => {\n    switch (appState.screen) {\n      case Screen.Intro:\n        return IntroScreen();\n      case Screen.NewSession:\n        return NewSessionScreen();\n      case Screen.ShowSession:\n        return ShowSessionScreen();\n      default:\n        throw new Error(`Unexpected screen ${screen}`);\n    }\n  };\n\n  const reconcileProps = (\n    domNode: Element,\n    prevNode: VirtualElement,\n    newNode: VirtualElement\n  ) => {\n    for (const name of keys(newNode.props)) {\n      // HACK: With properties, our crappy virtal DOM can get out of sync after\n      // user input so we just always write.\n      if (ELEMENT_PROPERTIES.has(name) && newNode.props[name] !== undefined) {\n        // TODO: Fix type `Element` being too generic here.\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        domNode[name] = newNode.props[name];\n      } else if (newNode.props[name] !== prevNode.props[name]) {\n        if (typeof newNode.props[name] === 'boolean') {\n          if (newNode.props[name]) {\n            domNode.setAttribute(name, name);\n          } else {\n            domNode.removeAttribute(name);\n          }\n        } else {\n          domNode.setAttribute(name, String(newNode.props[name]));\n        }\n      }\n    }\n\n    for (const name of keys(prevNode.props)) {\n      if (newNode.props[name] === undefined) {\n        if (ELEMENT_PROPERTIES.has(name)) {\n          // TODO: Fix type `Element` being too generic here.\n          // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          // @ts-ignore\n          domNode[name] = '';\n        } else {\n          domNode.removeAttribute(name);\n        }\n      }\n    }\n  };\n\n  const elementType = (element: NonNullable<VirtualNode>) => {\n    return typeof element === 'string' ? 'string' : element.type;\n  };\n\n  const reconcile = (\n    domNode: Element | null,\n    prevNode: VirtualNode,\n    newNode: VirtualNode,\n    parentElement: Element\n  ) => {\n    if (!domNode) {\n      parentElement.appendChild(createDomNode(newNode));\n      return;\n    }\n\n    if (prevNode && newNode) {\n      if (elementType(prevNode) !== elementType(newNode)) {\n        domNode.parentElement?.replaceChild(createDomNode(newNode), domNode);\n        return;\n      }\n\n      if (typeof prevNode === 'string') {\n        domNode.parentElement?.replaceChild(createDomNode(newNode), domNode);\n        return;\n      }\n\n      // This is certain because we check that both types are the same above but\n      // TypeScript is not smart enough to know that.\n      if (typeof newNode === 'string') {\n        return;\n      }\n\n      reconcileProps(domNode, prevNode, newNode);\n\n      newNode.children.forEach((newNodeChild, index) => {\n        reconcile(\n          Array.from(domNode.childNodes).filter(\n            (node) =>\n              node.nodeType === ELEMENT_NODE_TYPE ||\n              node.nodeType === TEXT_NODE_TYPE\n          )[index] as Element,\n          prevNode.children[index],\n          newNodeChild,\n          domNode\n        );\n      });\n    } else if (newNode) {\n      domNode.parentElement?.replaceChild(createDomNode(newNode), domNode);\n    } else if (prevNode) {\n      domNode.remove();\n    }\n  };\n\n  let prevVirtualNode = e('div');\n\n  const render = () => {\n    if (!appRoot) {\n      throw new Error('appRoot is not set');\n    }\n\n    if (!appRoot.parentElement) {\n      throw new Error('appRoot not attached to DOM');\n    }\n\n    const virtualNode = e('div', null, renderScreen());\n    reconcile(appRoot, prevVirtualNode, virtualNode, appRoot.parentElement);\n\n    prevVirtualNode = virtualNode;\n  };\n\n  const navigateToIntroScreen = () => {\n    window.history.pushState({}, '', '#');\n    appState.screen = Screen.Intro;\n  };\n\n  const navigateToNewSessionScreen = () => {\n    window.history.pushState({}, '', '#/sessions/new');\n    appState.screen = Screen.NewSession;\n  };\n\n  const navigateToShowSessionScreen = (session: Session) => {\n    window.history.pushState({}, '', `#/sessions/${session.id}`);\n    appState.currentSessionId = session.id;\n    appState.screen = Screen.ShowSession;\n  };\n\n  const rebuy = () => {\n    if (!selectors.currentSession) {\n      return;\n    }\n\n    selectors.currentSession.rebuy(\n      parseFloat(appState.showSessionScreen.rebuyAmount)\n    );\n    appState.showSessionScreen.rebuyAmount = '';\n  };\n\n  const createSession = () => {\n    const session = Session.create(\n      appState.newSessionScreen.casinoName,\n      parseInt(appState.newSessionScreen.smallBlind),\n      parseInt(appState.newSessionScreen.bigBlind),\n      parseInt(appState.newSessionScreen.maxBuyin),\n      parseInt(appState.newSessionScreen.maxPlayers)\n    );\n\n    session.start();\n\n    navigateToShowSessionScreen(session);\n  };\n\n  const saveToGoogleSheet = async () => {\n    if (!selectors.currentSession) {\n      return;\n    }\n\n    selectors.currentSession.end(\n      parseFloat(appState.showSessionScreen.cashoutAmount)\n    );\n\n    appState.showSessionScreen.isSavingSession = true;\n    render();\n\n    let response;\n\n    try {\n      response = await apiService.saveSession(\n        selectors.currentSession,\n        appState.cachedAdminPassword ?? appState.showSessionScreen.adminPassword\n      );\n    } finally {\n      appState.showSessionScreen.isSavingSession = false;\n      render();\n    }\n\n    if (response.ok) {\n      if (!appState.cachedAdminPassword) {\n        appState.cachedAdminPassword = appState.showSessionScreen.adminPassword;\n      }\n\n      alert('Success!');\n      navigateToIntroScreen();\n    } else {\n      alert('Something went wrong.');\n\n      // TODO: Use changesets so we don't have to do this.\n      selectors.currentSession.undoEnd();\n    }\n  };\n\n  const prefillBlinds = (smallBlind: string, bigBlind: string) => {\n    appState.newSessionScreen.smallBlind = smallBlind;\n    appState.newSessionScreen.bigBlind = bigBlind;\n  };\n\n  const prefillMaxBuyin = (maxBuyin: string) => {\n    appState.newSessionScreen.maxBuyin = maxBuyin;\n  };\n\n  const handleClick = (event: Event) => {\n    if (!Utils.objectIsHtmlElement(event.target)) {\n      return false;\n    }\n\n    switch (event.target.id) {\n      case 'new-session-button':\n        navigateToNewSessionScreen();\n        return true;\n      case 'decrement-dealer-tip-button':\n        selectors.currentSession?.updateDealerTip(-1);\n        return true;\n      case 'increment-dealer-tip-button':\n        selectors.currentSession?.updateDealerTip(1);\n        return true;\n      case 'decrement-drink-tip-button':\n        selectors.currentSession?.updateDrinkTip(-1);\n        return true;\n      case 'increment-drink-tip-button':\n        selectors.currentSession?.updateDrinkTip(1);\n        return true;\n      case 'rebuy-max-button':\n        selectors.currentSession?.rebuyMax();\n        return true;\n    }\n\n    if (\n      event.target.classList.contains('prefill-blinds') &&\n      event.target.dataset.smallBlind &&\n      event.target.dataset.bigBlind\n    ) {\n      prefillBlinds(\n        event.target.dataset.smallBlind,\n        event.target.dataset.bigBlind\n      );\n\n      prefillMaxBuyin(\n        (parseInt(event.target.dataset.bigBlind) * 100).toString()\n      );\n\n      return true;\n    }\n\n    return false;\n  };\n\n  const handleAppClick = (event: Event) => {\n    if (handleClick(event)) {\n      render();\n    }\n  };\n\n  const handleSubmit = async (event: Event) => {\n    if (!Utils.objectIsHtmlElement(event.target)) {\n      return false;\n    }\n\n    event.preventDefault();\n\n    switch (event.target.id) {\n      case 'new-session-form':\n        createSession();\n        return true;\n      case 'rebuy-form':\n        rebuy();\n        return true;\n      case 'end-session-form':\n        await saveToGoogleSheet();\n        return true;\n    }\n\n    return false;\n  };\n\n  const handleAppSubmit = async (event: Event) => {\n    if (await handleSubmit(event)) {\n      render();\n    }\n  };\n\n  const handleInput = (event: Event) => {\n    if (!Utils.objectIsHtmlInputElement(event.target)) {\n      return false;\n    }\n\n    const idToStateKey = (id: string) => {\n      switch (id) {\n        case 'casino-name-input':\n          return 'newSessionScreen.casinoName';\n        case 'small-blind-input':\n          return 'newSessionScreen.smallBlind';\n        case 'big-blind-input':\n          return 'newSessionScreen.bigBlind';\n        case 'max-buyin-input':\n          return 'newSessionScreen.maxBuyin';\n        case 'max-players-input':\n          return 'newSessionScreen.maxPlayers';\n        case 'rebuy-amount-input':\n          return 'showSessionScreen.rebuyAmount';\n        case 'cashout-amount-input':\n          return 'showSessionScreen.cashoutAmount';\n        case 'admin-password-input':\n          return 'showSessionScreen.adminPassword';\n      }\n    };\n\n    const key = idToStateKey(event.target.id);\n    if (!key) {\n      return false;\n    }\n\n    return Utils.objectSet(appState, key, event.target.value);\n  };\n\n  const handleAppInput = (event: Event) => {\n    if (handleInput(event)) {\n      render();\n    }\n  };\n\n  const environment = getEnvironment();\n  const apiService = new ApiService();\n  const appState = loadAppState();\n  const selectors = new Selectors(appState);\n  const appRoot = document.getElementById('root');\n\n  if (appRoot) {\n    appRoot.addEventListener('click', handleAppClick);\n    appRoot.addEventListener('submit', handleAppSubmit);\n    appRoot.addEventListener('input', handleAppInput);\n  }\n\n  // HACK: onbeforeunload doesn't seem to work on iOS so we save periodically.\n  setInterval(saveAppState, SAVE_APP_STATE_INTERVAL_MS);\n  document.addEventListener('visibilitychange', saveAppState);\n\n  window.onbeforeunload = saveAppState;\n\n  render();\n})();\n"],"names":[],"version":3,"file":"index.377278e2.js.map","sourceRoot":"/__parcel_source_root/"}